<div class="card shadow-sm mb-3 chartcanvas">
    <div class="card-header form-inline py-3">
        <p class="mb-0">{{ bundle }}</p>
            <input type="image" class="mr-3 ml-auto" id="icon_chart_costs_{{ bundle_id.index }}"
                src="{{ url_for('static', filename='images/icons/hide2.png')}}" width="30px"
                onclick="toggle_div_chart('div_chart_costs_{{ bundle_id.index }}', 'icon_chart_costs_{{ bundle_id.index }}')" />
    </div>
    <div class="card-body">

        {% for cost_input in list %}

            <div class="container mb-2 py-1 rounded border">
                <p class="mr-4 font-weight-bold">{{ cost_input.name }}</p>

                <div class="form-inline" id="inputs">
                    {% if cost_input.input_type == 'static' %}
                        <span class="mr-2">Value</span>
                    {% else %}
                        <span class="mr-2">Start Value</span>
                    {% endif %}
                    <input type="range" class="form-control w-25" 
                        id="cost_input_static_{{ bundle_id.index }}_{{ cost_input.id }}"
                        min={{ cost_input.static_values.value_min }} 
                        max={{ cost_input.static_values.value_max }}
                        value={{ cost_input.static_values.value_default }} 
                        step={{ cost_input.static_values.step }}
                        oninput="display_output_int.apply(this, display_params_cost_value_{{ bundle_id.index }}_{{ cost_input.id }})"
                        />
                    <span class="badge badge-pill badge-primary ml-2">
                        <output
                            id="cost_output_int_static_{{ bundle_id.index }}_{{ cost_input.id }}" 
                            type="int" 
                            onmouseover="viewchange(this.id, 
                                                    'cost_change_int_static_{{ bundle_id.index }}_{{ cost_input.id }}', 
                                                    {{ cost_input.static_values.value_default }}
                                                    )"
                            onmouseout="clear_viewchange('cost_change_int_static_{{ bundle_id.index }}_{{ cost_input.id }}')"
                            />
                    </span>
                    <small class="text-muted ml-2"><em id="cost_change_int_static_{{ bundle_id.index }}_{{ cost_input.id }}"></em></small>
                    
                    <button type="button" id="reset_button_cost_input_{{ bundle_id.index }}_{{ cost_input.id }}" 
                            class="btn btn-sm btn-outline-secondary ml-auto"
                            onclick="reset_cost_output_int_{{ bundle_id.index }}_{{ cost_input.id }}()">Reset</button>
                </div>

                {% if cost_input.input_type != 'static' %}
                    <div class="form-inline">
                        <span class="mr-2">Growth Factor</span>
                        <input type="range" class="form-control w-25"
                            id="cost_input_growth_{{ bundle_id.index }}_{{ cost_input.id }}"
                            min={{ cost_input.growth_factor.value_min }}
                            max={{ cost_input.growth_factor.value_max }}
                            value={{ cost_input.growth_factor.value_default }} 
                            step={{ cost_input.growth_factor.step }}
                            oninput="display_output_int.apply(this, display_params_cost_value_{{ bundle_id.index }}_{{ cost_input.id }})"
                            />
                        <span class="badge badge-pill badge-primary ml-2">
                            <output
                                id="cost_output_int_growth_{{ bundle_id.index }}_{{ cost_input.id }}" type="int" 
                                onmouseover="viewchange(this.id, 
                                                        'cost_change_int_growth_{{ bundle_id.index }}_{{ cost_input.id }}', 
                                                        {{ cost_input.growth_factor.value_default }}
                                                        )"
                                onmouseout="clear_viewchange('cost_change_int_growth_{{ bundle_id.index }}_{{ cost_input.id }}')"/>
                        </span>
                        <small class="text-muted ml-2"><em id="cost_change_int_growth_{{ bundle_id.index }}_{{ cost_input.id }}"></em></small>

                    </div>
                {% endif %}

            </div>  
            
    
            <script>

                var display_params_cost_value_{{ bundle_id.index }}_{{ cost_input.id }} = [
                    'cost_input_static_{{ bundle_id.index }}_{{ cost_input.id }}',
                    'cost_output_int_static_{{ bundle_id.index }}_{{ cost_input.id }}',
                    {% if cost_input.input_type != 'static' %}
                        'cost_input_growth_{{ bundle_id.index }}_{{ cost_input.id }}',
                        'cost_output_int_growth_{{ bundle_id.index }}_{{ cost_input.id }}'
                    {% endif %}
                ];

            </script>

        {% endfor %} 

        <small class="text-muted" name="slider_tip">You can set the values for these inputs by moving the sliders.</small>
            
            <div id="div_chart_costs_{{ bundle_id.index }}" style="display:none">
                <canvas id="chart_costs_{{ bundle_id.index }}" height="200"></canvas>
            </div>

        <hr>
        <a href="javascript:void(0)" id="information" class="badge badge-light badge-pill float-right"
            data-toggle="popover" title="information" data-content="#"><b>more â†’</b></a>
    </div>
</div>





